
<div class="container">
  <%= link_to loos_path do %>
  <div class="d-flex justify-content-end">
    <i class="far fa-times-circle"></i>
  </div>
  <% end %>

  <div class="rating-container", style="position: relative">
    <div class="row">
      <div class="col-12 pt-2">
        <div class="d-flex justify-content-between", style="position: absolute; top: 20px; right: 9px;">
          <%# // favorite buttons //  %>
           <% unless @loo.favorited_by? current_user %>
            <%= link_to favourite_loo_path, method: :post, remote: true do %>
              <i class="fas fa-heart ms-2"></i>
            <% end %>
            <% else %>
            <%= link_to unfavourite_loo_path, method: :delete, remote: true do %>
              <i class="far fa-heart"></i>
            <% end %>
          <% end %>
        <%# // ------------------- //  %>
        </div>

        <div style="position: relative">
          <h1 style="margin-bottom: 0"><%= @loo.name %></h1>
          <p><%= @loo.address %></p>
        </div>


      <%# // overall rating bar // %>
      <% if @loo.reviews.present? %>
        <div class="d-flex flex-column">
          <div class="category-card">
            <div class="d-flex align-items-center">
              <div class="c-score-bar rounded" style="width:100%; height:15px">
                <div class="c-score-bar-value rounded" style="width:<%= @loo.average_star_rating * 10 %>% ; height:15px"></div>
              </div>
              <p class="ms-2"><%= @loo.average_star_rating %></p>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <%# // facilities with icons container// %>
      <div class="d-flex align-items-center">
        <% if @loo.parking %>
          <i class="fas fa-parking fa-2xl fa-circle me-3 d-inline-block"></i>
        <% end %>

        <% if @loo.accessible %>
          <i class="fas fa-wheelchair fa-2xl me-3 d-inline-block"></i>
        <% end %>

        <% if @loo.baby_change %>
          <i class="fas fa-baby fa-2xl me-3 d-inline-block"></i>
        <% end %>

        <% if @loo.male %>
          <i class="fas fa-male fa-2xl me-3 d-inline-block"></i>
        <% end %>

        <% if @loo.female %>
          <i class="fas fa-female fa-2xl me-3 d-inline-block"></i>
        <% end %>

        <% if @loo.unisex %>
          <i class="fas fa-restroom fa-2xl me-3 d-inline-block"></i>
        <% end %>
      </div>

    <%# // OPENING HOURS CONTAINER // %>
    <div class="row">
      <div class="col-12 pt-2 pb-2", style="margin-top: 10px;">
        <h4 style="margin-bottom: 0px;">opening hours</h4>
        <%# // PLACEHOLDER FOR ICONS BELOW - to be updated by shannon later // %>
        <p><%= @loo.opening_hours.downcase%></p>
      </div>
    </div>
  </div>


  <%# // RATING CONTAINER // %>
  <% if @loo.reviews.present? %>
    <div class="rating-container">
      <div class="row">
        <div class="col-12", style="padding-bottom: 20px;">
          <h4>ratings</h4>
          <div class="d-flex flex-column">
            <div class="category-card", style="margin-top: 15px;" >
              <p>cleanlinesðŸ§»</p>
              <div class="d-flex align-items-center">
                <div class="c-score-bar rounded">
                  <div class="c-score-bar-value rounded" style="width:<%= @loo.average_cleanliness_rating * 10 %>%"></div>
                </div>
                <p class="ms-2"><%= @loo.average_cleanliness_rating %></p>
              </div>
            </div>
            <div class="category-card", style="margin-top: 15px;">
              <p>Flushing power ðŸ’ª</p>
              <div class="d-flex align-items-center">
                <div class="c-score-bar rounded">
                  <div class="c-score-bar-value rounded"
                  style="width:<%= @loo.average_flushing_power_rating * 10 %>%"></div>
                </div>
                <p class="ms-2"><%= @loo.average_flushing_power_rating %></p>
              </div>
            </div>
            <div class="category-card", style="margin-top: 15px;" >
              <p>ambience ðŸ’ƒ</p>
              <div class="d-flex align-items-center">
                <div class="c-score-bar rounded">
                  <div class="c-score-bar-value rounded" style="width:<%= @loo.average_ambience_rating * 10 %>%"></div>
                </div>
                <p class="ms-2"><%= @loo.average_ambience_rating %></p>
              </div>
            </div>
            <div class="category-card", style="margin-top: 15px;" >
              <p>toiler paper ðŸ§» & soap ðŸ§´</p>
              <div class="d-flex align-items-center">
                <div class="c-score-bar rounded text-info">
                  <div class="c-score-bar-value rounded" style="width:<%= @loo.average_toilet_paper_soap_rating * 10 %>%">
                  </div>
                </div>
              <p class="ms-2"><%= @loo.average_toilet_paper_soap_rating %></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% end %>
  <%# // Button to toilet route to be updated //  %>
  <%= link_to "to the LOO!", navigation_loo_path(@loo) , class: "btn btn-primary text-warning w-100" %>
</div>
